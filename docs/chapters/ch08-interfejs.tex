% ============================================================
% RozdziaÅ‚ 8 â€” Interfejs UÅ¼ytkownika
% ============================================================

\chapter{Interfejs UÅ¼ytkownika}
\label{ch:interfejs}

\begin{center}
\Large\itshape\color{PodPurple}
,,Bloomberg Terminal meets Spotify Wrapped meets clinical psychology report.''
\end{center}

\vspace{8pt}

Interfejs \podtekst to nie typowy SaaS dashboard. To \textbf{edytorialny, data-dense, ciemny} system zaprojektowany z~myÅ›lÄ… o~jednoczesnym oddziaÅ‚ywaniu na dwa instynkty: ciekawoÅ›Ä‡ analitycznÄ… (,,chcÄ™ zrozumieÄ‡ dane'') i~emocjonalnÄ… gratyfikacjÄ™ (,,chcÄ™ zobaczyÄ‡ siÄ™ w~tych danych''). Niniejszy rozdziaÅ‚ opisuje kompletny system projektowy, kaÅ¼dy ekran aplikacji oraz inwentarz ponad 40~komponentÃ³w interfejsu.


% ============================================================
% 8.1 System projektowy
% ============================================================
\section{System projektowy}
\label{sec:design-system}

\subsection{Filozofia wizualna}

System projektowy \podtekst opiera siÄ™ na trzech filarach:

\begin{description}
  \item[CiemnoÅ›Ä‡] Ciemny motyw jest domyÅ›lny i~jedyny. Nie ma trybu jasnego. TÅ‚o \texttt{\#050505} jest niemal czarne, co nadaje interfejsowi charakter terminala i~pozwala kolorom danych wyraÅºnie wyrÃ³Å¼niaÄ‡ siÄ™ z~tÅ‚a.

  \item[GÄ™stoÅ›Ä‡ informacyjna] Ekrany sÄ… projektowane w~duchu editorial design --- duÅ¼o danych, maÅ‚o biaÅ‚ej przestrzeni, precyzyjne odstÄ™py. KaÅ¼dy piksel komunikuje wartoÅ›Ä‡.

  \item[Precyzja emocjonalna] Kolory nie sÄ… ozdobnikami --- sÄ… noÅ›nikami znaczenia. \personA{Niebieski} zawsze oznacza OsobÄ™~A, \personB{fioletowy} zawsze OsobÄ™~B. \score{Zielony} to wartoÅ›Ä‡ pozytywna, \warn{pomaraÅ„czowy} to ostrzeÅ¼enie, \danger{czerwony} to zagroÅ¼enie.
\end{description}

\begin{warningbox}[title=Anty-wzorce]
\podtekst celowo unika: pastelowych palet, zaokrÄ…glonych-wszystkiego, domyÅ›lnego Tailwind Blue, generycznego SaaS look, cutesy ilustracji, nadmiernych paddingÃ³w. Estetyka jest \textbf{ciemna, precyzyjna, information-rich, pewna siebie i~lekko prowokacyjna}.
\end{warningbox}

\subsection{Paleta kolorÃ³w}
\label{subsec:paleta-kolorow}

Wszystkie kolory zdefiniowane sÄ… jako zmienne CSS w~pliku \filepath{src/app/globals.css} i~mapowane na kolory Tailwind via \texttt{@theme inline}.

\begin{table}[H]
\caption{Paleta kolorÃ³w \podtekst}
\label{tab:paleta}
\centering
\small
\begin{tabularx}{\textwidth}{@{} l l l X @{}}
\toprule
\textbf{Zmienna CSS} & \textbf{Hex} & \textbf{Token Tailwind} & \textbf{Zastosowanie} \\
\midrule
\multicolumn{4}{@{}l}{\textbf{TÅ‚a}} \\
\texttt{-{}-background} & \texttt{\#050505} & \texttt{bg-background} & GÅ‚Ã³wne tÅ‚o strony \\
\texttt{-{}-popover} & \texttt{\#0A0A0A} & \texttt{bg-popover} & TÅ‚o popoverÃ³w, sidebar \\
\texttt{-{}-card} & \texttt{\#111111} & \texttt{bg-card} & Karty, sekcje \\
\texttt{-{}-card-hover} & \texttt{\#161616} & \texttt{bg-card-hover} & Karty w~stanie hover \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Obramowania}} \\
\texttt{-{}-border} & \texttt{\#1A1A1A} & \texttt{border-border} & DomyÅ›lne obramowania \\
\texttt{-{}-border-hover} & \texttt{\#2A2A2A} & \texttt{border-border-hover} & Obramowanie hover \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Tekst}} \\
\texttt{-{}-foreground} & \texttt{\#FAFAFA} & \texttt{text-foreground} & Tekst gÅ‚Ã³wny (tytuÅ‚y, wartoÅ›ci) \\
\texttt{-{}-muted-foreground} & \texttt{\#888888} & \texttt{text-muted-foreground} & Tekst pomocniczy (opisy) \\
\texttt{-{}-text-muted} & \texttt{\#555555} & \texttt{text-text-muted} & Tekst wyciszony (labele) \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Akcenty}} \\
\texttt{-{}-primary} & \texttt{\#3B82F6} & \texttt{text-primary} & Akcent niebieski, CTA \\
\texttt{-{}-chart-a} & \texttt{\#3B82F6} & \texttt{text-chart-a} & Kolor Osoby~A na wykresach \\
\texttt{-{}-chart-b} & \texttt{\#A855F7} & \texttt{text-chart-b} & Kolor Osoby~B na wykresach \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Semantyczne}} \\
\texttt{-{}-success} & \texttt{\#10B981} & \texttt{text-success} & Pozytywne wartoÅ›ci \\
\texttt{-{}-warning} & \texttt{\#F59E0B} & \texttt{text-warning} & OstrzeÅ¼enia, neutralne \\
\texttt{-{}-danger} & \texttt{\#EF4444} & \texttt{text-danger} & Negatywne, red flags \\
\texttt{-{}-cyan} & \texttt{\#06B6D4} & \texttt{text-cyan} & Informacyjne wyrÃ³Å¼nienia \\
\bottomrule
\end{tabularx}
\end{table}

\begin{figure}[H]
\centering
\begin{tikzpicture}[font=\small]
  % Row 1: Backgrounds
  \node[anchor=west, font=\footnotesize\bfseries, color=PodTextSecondary] at (0, 4.2) {TÅA};
  \fill[black!98!white, rounded corners=2pt] (0,3.4) rectangle (2, 4); \node[font=\ttfamily\tiny, white] at (1, 3.7) {\#050505};
  \fill[black!96!white, rounded corners=2pt] (2.2,3.4) rectangle (4.2, 4); \node[font=\ttfamily\tiny, white] at (3.2, 3.7) {\#0A0A0A};
  \fill[PodCard, rounded corners=2pt] (4.4,3.4) rectangle (6.4, 4); \node[font=\ttfamily\tiny, white] at (5.4, 3.7) {\#111111};
  \fill[PodCardHover, rounded corners=2pt] (6.6,3.4) rectangle (8.6, 4); \node[font=\ttfamily\tiny, white] at (7.6, 3.7) {\#161616};

  % Row 2: Accents
  \node[anchor=west, font=\footnotesize\bfseries, color=PodTextSecondary] at (0, 3) {AKCENTY};
  \fill[PodBlue, rounded corners=2pt] (0,2.2) rectangle (2, 2.8); \node[font=\ttfamily\tiny, white] at (1, 2.5) {\#3B82F6};
  \fill[PodPurple, rounded corners=2pt] (2.2,2.2) rectangle (4.2, 2.8); \node[font=\ttfamily\tiny, white] at (3.2, 2.5) {\#A855F7};
  \fill[PodCyan, rounded corners=2pt] (4.4,2.2) rectangle (6.4, 2.8); \node[font=\ttfamily\tiny, white] at (5.4, 2.5) {\#06B6D4};

  % Row 3: Semantic
  \node[anchor=west, font=\footnotesize\bfseries, color=PodTextSecondary] at (0, 1.8) {SEMANTYCZNE};
  \fill[PodSuccess, rounded corners=2pt] (0,1.0) rectangle (2, 1.6); \node[font=\ttfamily\tiny, white] at (1, 1.3) {\#10B981};
  \fill[PodWarning, rounded corners=2pt] (2.2,1.0) rectangle (4.2, 1.6); \node[font=\ttfamily\tiny, white] at (3.2, 1.3) {\#F59E0B};
  \fill[PodDanger, rounded corners=2pt] (4.4,1.0) rectangle (6.4, 1.6); \node[font=\ttfamily\tiny, white] at (5.4, 1.3) {\#EF4444};
\end{tikzpicture}
\caption{PrÃ³bki kolorÃ³w systemu projektowego \podtekst}
\label{fig:color-swatches}
\end{figure}

\subsection{Typografia}

\podtekst wykorzystuje cztery rodziny fontÃ³w, kaÅ¼da z~precyzyjnie przypisanÄ… rolÄ…:

\begin{table}[H]
\caption{System typograficzny}
\label{tab:typografia}
\centering
\small
\begin{tabularx}{\textwidth}{@{} l l l X @{}}
\toprule
\textbf{Font} & \textbf{Token CSS} & \textbf{Rola} & \textbf{Zastosowanie} \\
\midrule
Geist Sans & \texttt{-{}-font-sans} & Body & Tekst gÅ‚Ã³wny, opisy, paragony, UI \\
Geist Mono & \texttt{-{}-font-mono} & Data & Liczby, wartoÅ›ci metryczne, countdowns \\
JetBrains Mono & \texttt{-{}-font-display} & Display & NagÅ‚Ã³wki sekcji, labele KPI, badge titles \\
Syne & \texttt{-{}-font-story-display} & Story Display & NagÅ‚Ã³wki w~Story Mode (bold, expressive) \\
Space Grotesk & \texttt{-{}-font-story-body} & Story Body & Tekst w~Story Mode (geometryczny, nowoczesny) \\
\bottomrule
\end{tabularx}
\end{table}

Rozmiar bazowy jest responsywny: \texttt{font-size: clamp(14px, 0.875rem + 0.25vw, 18px)}, co zapewnia czytelnoÅ›Ä‡ na kaÅ¼dej rozdzielczoÅ›ci.

\subsection{Breakpointy responsywne}

\begin{table}[H]
\caption{Breakpointy responsywne}
\label{tab:breakpoints}
\centering
\small
\begin{tabularx}{\textwidth}{@{} l l X @{}}
\toprule
\textbf{Breakpoint} & \textbf{Zakres} & \textbf{Zachowanie} \\
\midrule
Mobile & $\leq$ 767px & Sidebar jako drawer (translateX), 1 kolumna, KPI stack \\
Tablet & 768px -- 1279px & Sidebar collapsed (ikony), 2 kolumny, KPI grid 2$\times$2 \\
Desktop & $\geq$ 1280px & Sidebar expanded, 3 kolumny, KPI grid 4$\times$1 \\
\bottomrule
\end{tabularx}
\end{table}

\subsection{Karty (Card System)}

Karta jest podstawowÄ… jednostkÄ… kompozycji UI. KaÅ¼da karta w~\podtekst ma nastÄ™pujÄ…ce cechy:

\begin{itemize}
  \item \textbf{TÅ‚o:} \texttt{\#111111} (\texttt{bg-card})
  \item \textbf{Obramowanie:} 1px solid \texttt{\#1A1A1A} (\texttt{border-border})
  \item \textbf{Border-radius:} \texttt{0.5rem} (zaokrÄ…glone, ale subtelne)
  \item \textbf{Hover:} tÅ‚o zmienia siÄ™ na \texttt{\#161616}, border na \texttt{\#2A2A2A}, opcjonalny \texttt{scale(1.02)} z~\texttt{transition-all duration-200}
  \item \textbf{Padding:} wewnÄ™trzny \texttt{p-4} do \texttt{p-6}
\end{itemize}

\subsection{Tekstura Grain}

Na caÅ‚Ä… stronÄ™ naÅ‚oÅ¼ona jest subtelna tekstura grain (fractal noise) z~opacjÄ… 3\%. Realizacja: inline SVG z~\texttt{feTurbulence} (baseFrequency 0.85, 4 octaves), renderowany jako \texttt{background-image} na elemencie \texttt{pointer-events-none} z~pozycjÄ… absolutnÄ…. Efekt: lekka analogowa ziarnistoÅ›Ä‡, ktÃ³ra dodaje gÅ‚Ä™bi ciemnemu tÅ‚u bez wpÅ‚ywu na czytelnoÅ›Ä‡ tekstu i~danych.


% ============================================================
% 8.2 Strona lÄ…dowania
% ============================================================
\section{Strona lÄ…dowania}
\label{sec:landing}

Strona lÄ…dowania jest zaprojektowana jako full-viewport, scroll-driven narrative experience. SkÅ‚ada siÄ™ z~dziewiÄ™ciu sekcji, kaÅ¼da zaprojektowana jako samodzielna jednostka wizualna.

\subsection{Architektura komponentÃ³w}

\begin{table}[H]
\caption{Komponenty strony lÄ…dowania}
\label{tab:landing-components}
\centering
\small
\begin{tabularx}{\textwidth}{@{} l l X @{}}
\toprule
\textbf{Komponent} & \textbf{Plik} & \textbf{Opis} \\
\midrule
LandingHero & \filepath{LandingHero.tsx} & Full-viewport hero z~3D scenÄ… Spline, floating data fragments \\
LandingSocialProof & \filepath{LandingSocialProof.tsx} & Social proof: liczby, badge'e, cytaty uÅ¼ytkownikÃ³w \\
LandingHowItWorks & \filepath{LandingHowItWorks.tsx} & 3-krokowy explainer: Upload â†’ Analyze â†’ Discover \\
LandingFeatureShowcase & \filepath{LandingFeatureShowcase.tsx} & Karty feature z~preview visualizacji i~sample data \\
SplineInterlude & \filepath{SplineInterlude.tsx} & Przerywnik z~3D scenami Spline (desktop only) \\
LandingDemo & \filepath{LandingDemo.tsx} & Interaktywne demo z~preloadowanÄ… analizÄ… \\
LandingFAQ & \filepath{LandingFAQ.tsx} & Accordion FAQ z~najczÄ™Å›ciej zadawanymi pytaniami \\
LandingFooter & \filepath{LandingFooter.tsx} & Minimalny footer: linki, prywatnoÅ›Ä‡, branding \\
ParticleBackground & \filepath{ParticleBackground.tsx} & Globalny animowany network graph w~tle \\
CurtainReveal & \filepath{CurtainReveal.tsx} & Teatralna animacja kurtyny z~neonowym logo przy pierwszym Å‚adowaniu \\
ScrollProgress & \filepath{ScrollProgress.tsx} & Pasek postÄ™pu scroll z~gradientem blueâ†’purpleâ†’green, fixed na gÃ³rze viewportu \\
HangingLetters & \filepath{HangingLetters.tsx} & Animacja fizyki wahadÅ‚a --- litery P,o,d,T,e,k,s,T wiszÄ…ce na linkach z~idle sway i~interakcjÄ… myszy \\
PTLogo & \filepath{shared/PTLogo.tsx} & Logo SVG ,,PT'' z~gradientem blueâ†’purple, uÅ¼ywane w~nawigacji i~landing page \\
\bottomrule
\end{tabularx}
\end{table}

\subsection{Hero Section}

Sekcja hero zajmuje 100vh i~jest centralnym elementem pierwszego wraÅ¼enia. SkÅ‚ada siÄ™ z~nastÄ™pujÄ…cych warstw (z-index rosnÄ…cy):

\begin{enumerate}
  \item \textbf{ParticleBackground} (z-index: 0) --- globalny canvas z~animowanÄ… sieciÄ… czÄ…steczek. CzÄ…steczki Å‚Ä…czÄ… siÄ™ liniami, gdy sÄ… blisko siebie, tworzÄ…c wizualizacjÄ™ podobnÄ… do network graph. Kolory: niebieski i~fioletowy z~niskÄ… opacjÄ….

  \item \textbf{Scena 3D Spline} (z-index: 1) --- interaktywny model 3D mÃ³zgu/sieci neuronowej, Å‚adowany asynchronicznie via \texttt{next/dynamic} z~\texttt{ssr: false}. Widoczny tylko na desktop ($\geq$768px). UÅ¼ytkownik moÅ¼e obracaÄ‡ scenÄ™ myszkÄ…, ale scroll jest bezpieczny (nie przechwytuje wheel events).

  \item \textbf{Grain overlay} (z-index: 2) --- tekstura ziarnistoÅ›ci, opacja 3\%.

  \item \textbf{Floating Data Fragments} (z-index: 2) --- szeÅ›Ä‡ fragmentÃ³w danych unoszÄ…cych siÄ™ po ekranie z~subtelnymi animacjami drift: ,,4\,521 wiadomoÅ›ci'', ,,78 / 100'', ,,23:00'', ,,ENFP'', ,,ghosting: 3d'', ,,â¤ï¸ 1\,234Ã—''. Opacja 7--10\%, font mono, rozmiar 0.65rem, z~keyframe \texttt{heroFragmentDrift}.

  \item \textbf{Content} (z-index: 10) --- centrowany blok z:
  \begin{itemize}
    \item Diagonalny tekst dekoracyjny (obrÃ³cony o~$-12Â°$): ,,Twoje rozmowy mÃ³wiÄ… wiÄ™cej niÅ¼ myÅ›lisz''
    \item Logo \podtekst (48px bold, gradient niebieskiâ†’fioletowy)
    \item Tagline: ,,odkryj to, co kryje siÄ™ miÄ™dzy wierszami''
    \item Subtekst: ,,(bo wiesz, eks...)''
    \item CTA: przycisk ,,Analizuj za darmo'' ze strzaÅ‚kÄ… â†’ Dashboard
  \end{itemize}
\end{enumerate}

\subsection{Social Proof}

Sekcja social proof wyÅ›wietla metryki agregowane: Å‚Ä…czna liczba przeanalizowanych rozmÃ³w, Å‚Ä…czna liczba przetworzonych wiadomoÅ›ci, Å›redni health score. Dane renderowane z~animated count-up przy scroll-in.

\subsection{How It Works}

Trzy kolumny (desktop) lub karuzela (mobile) z~krokami:
\begin{enumerate}
  \item \textbf{WrzuÄ‡ plik} --- ikona Upload, opis obsÅ‚ugiwanych formatÃ³w
  \item \textbf{Poczekaj chwilÄ™} --- ikona zegara, opis parsowania + analizy AI
  \item \textbf{Odkryj prawdÄ™} --- ikona wykresu, opis dostÄ™pnych wynikÃ³w
\end{enumerate}

KaÅ¼dy krok ma animowany numer (scale-in), ikonÄ™ i~opis. StrzaÅ‚ki miÄ™dzy krokami (desktop) i~pionowe connectors (mobile).

\subsection{Feature Showcase}

Scrollowalne karty z~podglÄ…dem typÃ³w analizy: Tone Analysis, Personality Profile, Relationship Dynamics. KaÅ¼da karta zawiera mini-wizualizacjÄ™ z~sample data --- nie screenshot, lecz faktyczny komponent renderowany z~mockowanymi danymi.

\subsection{Spline Interlude}

Przerywnik miÄ™dzy sekcjami, wyÅ›wietlajÄ…cy dodatkowe sceny 3D Spline (\filepath{scene-2.splinecode}, \filepath{scene-3.splinecode}). Widoczny tylko na desktop. Sceny Å‚adowane lazy --- nie blokujÄ… first paint.

\subsection{Demo Section}

Interaktywne demo z~preloadowanÄ… przykÅ‚adowÄ… analizÄ…. UÅ¼ytkownik moÅ¼e kliknÄ…Ä‡ w~zakÅ‚adki (KPI, Heatmap, Personality) i~zobaczyÄ‡ prawdziwe komponenty analizy z~mockowanymi danymi. Cel: przekonanie uÅ¼ytkownika, Å¼e warto wrzuciÄ‡ wÅ‚asnÄ… rozmowÄ™.

\subsection{FAQ}

Komponent accordion (shadcn/ui \texttt{Collapsible}) z~najczÄ™Å›ciej zadawanymi pytaniami. Pytania dotyczÄ…: prywatnoÅ›ci, formatu plikÃ³w, dokÅ‚adnoÅ›ci AI, obsÅ‚ugiwanych platform, modelu cenowego.


% ============================================================
% 8.3 Dashboard
% ============================================================
\section{Dashboard}
\label{sec:dashboard}

Dashboard (\filepath{src/app/(dashboard)/dashboard/page.tsx}) wyÅ›wietla listÄ™ wszystkich wczeÅ›niejszych analiz uÅ¼ytkownika, przechowywanych w~IndexedDB (offline-first, bez serwera).

\subsection{Siatka analiz}

Analizy wyÅ›wietlane sÄ… jako karty w~siatce responsywnej: 3 kolumny na desktop, 2 na tablecie, 1 na mobile. KaÅ¼da karta zawiera:

\begin{itemize}
  \item \textbf{TytuÅ‚ rozmowy} --- nazwy uczestnikÃ³w
  \item \textbf{Metadata badges} --- ikony z~lucide-react:
  \begin{itemize}
    \item \texttt{MessageSquareText} + liczba wiadomoÅ›ci
    \item \texttt{BarChart3} + liczba uczestnikÃ³w
    \item \texttt{Brain} + badge ,,AI'' jeÅ›li analiza jakoÅ›ciowa jest kompletna
  \end{itemize}
  \item \textbf{Mini Health Ring} --- SVG ring z~health score (36$\times$36px, animated \texttt{strokeDashoffset}), kolorowany: $\geq$80 zielony, $\geq$60 niebieski, $\geq$40 pomaraÅ„czowy, $<$40 czerwony
  \item \textbf{Data analizy} --- sformatowana po polsku (,,15 sty 2026'')
  \item \textbf{Przycisk usuwania} --- ikona X, z~dwuetapowym potwierdzeniem (kliknij â†’ ,,Na pewno?'' â†’ potwierdÅº)
\end{itemize}

\subsection{Empty state}

Gdy brak analiz, wyÅ›wietlany jest animowany empty state z~ikonÄ… i~przyciskiem ,,Rozpocznij pierwszÄ… analizÄ™'' prowadzÄ…cym do \filepath{/analysis/new}.

\subsection{PorÃ³wnanie rozmÃ³w}

Przycisk \texttt{GitCompareArrows} umoÅ¼liwia porÃ³wnanie dwÃ³ch wybranych analiz side-by-side. PorÃ³wnanie jest dostÄ™pne tylko w~planie Unlimited.


% ============================================================
% 8.4 Upload i przetwarzanie
% ============================================================
\section{Upload i~przetwarzanie}
\label{sec:upload}

\subsection{DropZone}

Komponent \texttt{DropZone} (\filepath{src/components/upload/DropZone.tsx}) to centralny element strony uploadu. Implementacja:

\begin{description}
  \item[Drag-and-drop] ObsÅ‚uga zdarzeÅ„ \texttt{onDragEnter}, \texttt{onDragOver}, \texttt{onDragLeave}, \texttt{onDrop} z~counter-based tracking (zapobiega migotaniu przy przechodzeniu nad elementami potomnymi). Wizualny feedback: niebieskie obramowanie + zmiana tÅ‚a podczas przeciÄ…gania.

  \item[Multi-file] Akceptacja wielu plikÃ³w jednoczeÅ›nie (np. \texttt{message\_1.json} ... \texttt{message\_5.json} z~Messengera). Pliki sÄ… scalane w~jednÄ… rozmowÄ™.

  \item[Formaty] Akceptowane rozszerzenia: \texttt{.json} (Messenger, Instagram, Telegram), \texttt{.txt} (WhatsApp). Inne formaty wyÅ›wietlajÄ… komunikat bÅ‚Ä™du z~instrukcjÄ… eksportu.

  \item[Limity rozmiaru] Twardy limit: 500\,MB per plik. OstrzeÅ¼enie: powyÅ¼ej 200\,MB wyÅ›wietlany jest komunikat o~moÅ¼liwym dÅ‚uÅ¼szym czasie przetwarzania.

  \item[PodglÄ…d plikÃ³w] Po wybraniu plikÃ³w wyÅ›wietlana jest lista z~nazwami, rozmiarami i~ikonÄ… typu (FileJson / FileText). UÅ¼ytkownik moÅ¼e usunÄ…Ä‡ poszczegÃ³lne pliki przed rozpoczÄ™ciem analizy.
\end{description}

\subsection{Selektor typu relacji}

SzeÅ›Ä‡ typÃ³w relacji wyÅ›wietlanych jako klikalne karty z~ikonami:

\begin{table}[H]
\caption{Typy relacji}
\label{tab:relationship-types-ui}
\centering
\small
\begin{tabularx}{\textwidth}{@{} c l X @{}}
\toprule
\textbf{Ikona} & \textbf{Typ} & \textbf{WpÅ‚yw na analizÄ™ AI} \\
\midrule
ğŸ’‘ & Romantyczna & JÄ™zyk miÅ‚oÅ›ci, attachment style, red/green flags romantyczne \\
ğŸ‘« & PrzyjaÅºÅ„ & LojalnoÅ›Ä‡, shared experiences, konflikt vs harmonia \\
ğŸ’¼ & KoleÅ¼eÅ„ska & FormalnoÅ›Ä‡, hierarchia, profesjonalizm \\
ğŸ¤ & Profesjonalna & Power dynamics, assertiveness, boundary management \\
ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ & Rodzinna & Intergenerational patterns, emotional support, control \\
â“ & Inna & Neutralne prompty, brak specjalizacji \\
\bottomrule
\end{tabularx}
\end{table}

\subsection{ProcessingState}

Komponent \texttt{ProcessingState} (\filepath{src/components/upload/ProcessingState.tsx}) wizualizuje trzyetapowy pipeline przetwarzania:

\begin{enumerate}
  \item \textbf{Parsowanie} (,,Odczytywanie i~dekodowanie danych z~Messengera'') --- ikona spinnera podczas pracy, check-mark po zakoÅ„czeniu.
  \item \textbf{Obliczanie} (,,Wyliczanie metryk iloÅ›ciowych'') --- pasek postÄ™pu z~liczbÄ… przetworzonych wiadomoÅ›ci.
  \item \textbf{Zapis} (,,Zapisywanie wynikÃ³w analizy'') --- persystencja do IndexedDB.
\end{enumerate}

KaÅ¼dy etap ma trzy stany wizualne:
\begin{itemize}
  \item \texttt{pending} --- ikona szara, tekst wyciszony
  \item \texttt{active} --- spinner (animowany via Framer Motion \texttt{rotate: 360}, \texttt{duration: 0.8s}, \texttt{repeat: Infinity}), tekst biaÅ‚y
  \item \texttt{complete} --- zielony check-mark z~animacjÄ… \texttt{scale: 0 â†’ 1}, tekst success
\end{itemize}

BÅ‚Ä™dy wyÅ›wietlane sÄ… jako czerwony alert z~ikonÄ… \texttt{AlertCircle} i~komunikatem opisowym.


% ============================================================
% 8.5 Strona analizy
% ============================================================
\section{Strona analizy}
\label{sec:analysis-page}

Strona analizy (\filepath{src/app/(dashboard)/analysis/[id]/page.tsx}) jest najwiÄ™kszym i~najbardziej zÅ‚oÅ¼onym ekranem w~\podtekst. WyÅ›wietla peÅ‚en wynik analizy --- zarÃ³wno metryki iloÅ›ciowe, jak i~(opcjonalnie) wyniki analizy AI. SkÅ‚ada siÄ™ z~ponad 40~komponentÃ³w, podzielonych na dziesiÄ™Ä‡ sekcji tematycznych.

\subsection{Inwentarz komponentÃ³w}

\begin{longtable}{@{} l l p{5.2cm} l @{}}
\caption{Inwentarz komponentÃ³w strony analizy}
\label{tab:components-inventory} \\
\toprule
\textbf{Sekcja} & \textbf{Komponent} & \textbf{Opis} & \textbf{Å¹rÃ³dÅ‚o danych} \\
\midrule
\endfirsthead
\toprule
\textbf{Sekcja} & \textbf{Komponent} & \textbf{Opis} & \textbf{Å¹rÃ³dÅ‚o danych} \\
\midrule
\endhead
\midrule
\multicolumn{4}{r}{\small\itshape Kontynuacja na nastÄ™pnej stronie...} \\
\endfoot
\bottomrule
\endlastfoot

% â”€â”€ HEADER â”€â”€
\multicolumn{4}{@{}l}{\textbf{NagÅ‚Ã³wek}} \\
& AnalysisHeader & TytuÅ‚ rozmowy, okres, liczba wiadomoÅ›ci, health score ring SVG & IloÅ›ciowe + AI \\
& SectionNavigator & Sticky nawigacja po sekcjach z~aktywnÄ… pozycjÄ… scroll-spy & --- \\
& SectionDivider & Wizualny separator sekcji z~ikonÄ… i~tytuÅ‚em & --- \\
\addlinespace

% â”€â”€ PARTICIPANTS â”€â”€
\multicolumn{4}{@{}l}{\textbf{Uczestnicy}} \\
& ParticipantStrip & Awatary (generowane inicjaÅ‚y), message counts, procentowy pasek proporcji & IloÅ›ciowe \\
\addlinespace

% â”€â”€ KPI â”€â”€
\multicolumn{4}{@{}l}{\textbf{KPI}} \\
& KPICards & 4 karty: czas odpowiedzi, wiad./dzieÅ„, reakcje, inicjacja. Count-up, sparkline, trend & IloÅ›ciowe \\
& Sparkline & Mini-wykres inline (SVG polyline, 40$\times$16px) & IloÅ›ciowe \\
\addlinespace

% â”€â”€ WYKRESY â”€â”€
\multicolumn{4}{@{}l}{\textbf{Wykresy}} \\
& TimelineChart & Wykres area, miesiÄ™czny, filtry: 3M/6M/1Y/All & IloÅ›ciowe \\
& HeatmapChart & Grid 7$\times$24 (dni $\times$ godziny), intensywnoÅ›Ä‡ koloru & IloÅ›ciowe \\
& ResponseTimeChart & Wykres liniowy, mediana odpowiedzi per miesiÄ…c & IloÅ›ciowe \\
& BurstActivity & Wizualizacja wykrytych burstÃ³w (klastry szybkich wiadomoÅ›ci) & IloÅ›ciowe \\
\addlinespace

% â”€â”€ DANE â”€â”€
\multicolumn{4}{@{}l}{\textbf{Dane szczegÃ³Å‚owe}} \\
& StatsGrid & Tabela podsumowujÄ…ca: Å‚Ä…czne wiadomoÅ›ci, sÅ‚owa, dni, reakcje per osoba & IloÅ›ciowe \\
& MessageLengthSection & PorÃ³wnanie Å›redniej/mediany dÅ‚ugoÅ›ci wiadomoÅ›ci + histogram & IloÅ›ciowe \\
& WeekdayWeekendCard & PorÃ³wnanie aktywnoÅ›ci weekday vs weekend per osoba & IloÅ›ciowe \\
& TopWordsCard & Top 20 najczÄ™stszych sÅ‚Ã³w per osoba (z~filtrowaniem stop-words) & IloÅ›ciowe \\
& EmojiReactions & Top emoji + reakcje, ranking, count per osoba & IloÅ›ciowe \\
& CatchphraseCard & Automatycznie wykryte catchphrases (n-gramy) per osoba & IloÅ›ciowe \\
\addlinespace

% â”€â”€ VIRAL â”€â”€
\multicolumn{4}{@{}l}{\textbf{Viral Scores}} \\
& ViralScoresSection & 3 gauge'e: Compatibility, Interest, Delusion + per-osoba breakdown & IloÅ›ciowe \\
& BestTimeToTextCard & Optymalna godzina na wiadomoÅ›Ä‡ (najkrÃ³tszy czas odpowiedzi) & IloÅ›ciowe \\
& GhostForecast & Prognoza ghostingu w~motywach pogodowych (6 poziomÃ³w: â˜€ï¸â†’ğŸŒªï¸) & IloÅ›ciowe \\
\addlinespace

% â”€â”€ AI: TON â”€â”€
\multicolumn{4}{@{}l}{\textbf{AI: Ton i~styl}} \\
& ToneRadarChart & 6-osiowy radar canvas: ciepÅ‚y, Å¼artobliwy, analityczny, lÄ™kowy, romantyczny, neutralny & AI Pass 1 \\
& ToneAnalysis & Primarny/sekundarny ton per osoba, warmth bar, formality bar, humor style & AI Pass 1 \\
\addlinespace

% â”€â”€ AI: OSOBOWOÅšÄ† â”€â”€
\multicolumn{4}{@{}l}{\textbf{AI: OsobowoÅ›Ä‡}} \\
& AttachmentStyleCards & Styl przywiÄ…zania per osoba (secure, anxious, avoidant, disorganized) & AI Pass 3 \\
& CommunicationStyleMeters & Skale: directness, assertiveness, validation-seeking, avoidance & AI Pass 2 \\
& PersonalityDeepDive & Big Five (5 paskÃ³w), MBTI, styl przywiÄ…zania, EQ, obserwacje kliniczne & AI Pass 3 \\
& PersonalityProfiles & Syntetyczny profil per osoba: summary, strengths, areas to watch & AI Pass 3 \\
& LoveLanguageCard & Top 3 jÄ™zyki miÅ‚oÅ›ci per osoba z~procentami i~dowodami & AI Pass 3 \\
\addlinespace

% â”€â”€ AI: DYNAMIKA â”€â”€
\multicolumn{4}{@{}l}{\textbf{AI: Dynamika relacji}} \\
& RelationshipBalance & Gauge balansu wÅ‚adzy ($-100$ do $+100$), praca emocjonalna, reciprocity & AI Pass 2 \\
& DynamicsSection & Wzorce konfliktu, intymnoÅ›Ä‡, unikanie tematÃ³w, inside jokes & AI Pass 2 \\
& TurningPointsTimeline & OÅ› czasu z~AI-identified punktami zwrotnymi w~relacji & AI Pass 4 \\
& FinalReport & Synteza: health score, summary, red/green flags, actionable insights & AI Pass 4 \\
\addlinespace

% â”€â”€ ODZNAKI â”€â”€
\multicolumn{4}{@{}l}{\textbf{Odznaki i~nagrody}} \\
& BadgesGrid & 12 odznak osiÄ…gniÄ™Ä‡ (grid 3$\times$4 desktop, 2$\times$6 mobile) & IloÅ›ciowe \\
& GroupChatAwards & Specjalne nagrody dla czatÃ³w grupowych ($>$2 uczestnikÃ³w) & IloÅ›ciowe \\
& NetworkGraph & Interaktywny graf sieciowy (force-directed, canvas) & IloÅ›ciowe \\
\addlinespace

% â”€â”€ SHARE â”€â”€
\multicolumn{4}{@{}l}{\textbf{UdostÄ™pnianie i~eksport}} \\
& ShareCardGallery & Galeria 15 typÃ³w Share Cards z~podglÄ…dem + export PNG & Oba \\
& ShareCaptionModal & Modal generujÄ…cy podpisy pod posty + hashtagi & --- \\
& ExportPDFButton & Generowanie PDF z~peÅ‚nym raportem (html2canvas + jsPDF) & Oba \\
& AnalysisImageCard & Card z~opcjÄ… eksportu jako obraz (dom-to-image) & Oba \\
& RoastImageCard & Roast jako grafika do udostÄ™pnienia & AI \\
\addlinespace

% â”€â”€ SPECJALNE â”€â”€
\multicolumn{4}{@{}l}{\textbf{Sekcje specjalne}} \\
& RoastSection & Bezlitosny, zabawny roast kaÅ¼dego uczestnika & AI \\
& CPSScreener & Conversation Personality Score --- profil osobowoÅ›ci rozmowy & AI Pass 5 \\
& ComparisonRadar & Radar porÃ³wnawczy dwÃ³ch analiz (overlay) & Oba \\
& ComparisonTable & Tabela porÃ³wnawcza dwÃ³ch analiz (metryki side-by-side) & IloÅ›ciowe \\
& ComparisonTimeline & Overlay timeline dwÃ³ch analiz (normalizowany) & IloÅ›ciowe \\
\end{longtable}

\subsection{AnalysisHeader}

Komponent \texttt{AnalysisHeader} (\filepath{src/components/analysis/AnalysisHeader.tsx}) stanowi wizytÃ³wkÄ™ strony analizy. WyÅ›wietla:

\begin{itemize}
  \item \textbf{TytuÅ‚ rozmowy} --- nazwy uczestnikÃ³w, font 24px bold
  \item \textbf{Okres} --- sformatowany po polsku: ,,Sty 2023 --- Gru 2025'', funkcja \tsfunc{formatPolishDateRange()}
  \item \textbf{Liczba wiadomoÅ›ci} --- sformatowana z~separatorem tysiÄ™cy (locale \texttt{pl-PL})
  \item \textbf{Health Score Ring} --- SVG ring (animowany \texttt{strokeDashoffset} via Framer Motion), kolorowany progowo:
  \begin{itemize}
    \item $\geq$ 70: \score{\#10b981} (zielony)
    \item $\geq$ 40: \warn{\#f59e0b} (pomaraÅ„czowy)
    \item $<$ 40: \danger{\#ef4444} (czerwony)
  \end{itemize}
  \item \textbf{Verdict} --- tekstowy werdykt AI (np. ,,Zdrowa relacja z~drobnymi napiÄ™ciami'')
\end{itemize}

\subsection{KPICards}

Komponent \texttt{KPICards} (\filepath{src/components/analysis/KPICards.tsx}) wyÅ›wietla cztery kluczowe wskaÅºniki w~jednym rzÄ™dzie (desktop) lub siatce 2$\times$2 (tablet/mobile):

\begin{enumerate}
  \item \textbf{Czas odpowiedzi} --- mediana, format: ,,2m 34s'' lub ,,1h 15m''. Formatowanie via \tsfunc{formatResponseTime()}.
  \item \textbf{WiadomoÅ›ci / dzieÅ„} --- Å›rednia dzienna aktywnoÅ›Ä‡ z~jednym miejscem po przecinku.
  \item \textbf{Reakcje} --- Å‚Ä…czna liczba reakcji, z~podziaÅ‚em na top 3 emoji.
  \item \textbf{Proporcja inicjacji} --- stosunek inicjacji konwersacji (np. ,,65:35'').
\end{enumerate}

KaÅ¼da karta KPI zawiera:
\begin{itemize}
  \item \textbf{Animated count-up} --- hook \tsfunc{useAnimatedCounter()} z~krzywÄ… easeOutCubic ($1 - (1-t)^3$), duration 1200ms, triggerowany via \texttt{IntersectionObserver} (\texttt{useInView}, \texttt{once: true}).
  \item \textbf{Sparkline} --- mini-wykres SVG (\texttt{polyline}) 40$\times$16px pokazujÄ…cy trend na ostatnich 6 miesiÄ…cach.
  \item \textbf{Trend indicator} --- strzaÅ‚ka w~gÃ³rÄ™/dÃ³Å‚ z~procentowÄ… zmianÄ…, kolorowana semantycznie.
\end{itemize}

\subsection{HeatmapChart}

Komponent \texttt{HeatmapChart} (\filepath{src/components/analysis/HeatmapChart.tsx}) renderuje macierz $7 \times 24$ (dni tygodnia $\times$ godziny dnia). Implementacja:

\begin{itemize}
  \item \textbf{Grid} --- 168 komÃ³rek renderowanych jako \texttt{<div>} z~dynamicznym \texttt{backgroundColor}
  \item \textbf{IntensywnoÅ›Ä‡} --- 6 poziomÃ³w kolorystycznych, od \texttt{rgba(59,130,246,0.03)} (brak aktywnoÅ›ci) do \texttt{rgba(59,130,246,0.8)} (peak activity)
  \item \textbf{Osie} --- Pon--Nd (polskie skrÃ³ty), godziny: 0, 4, 8, 12, 16, 20
  \item \textbf{Tooltip} --- na hover wyÅ›wietla liczbÄ™ wiadomoÅ›ci dla danej komÃ³rki
  \item \textbf{Animacja wejÅ›cia} --- komÃ³rki pojawiajÄ… siÄ™ z~staggered delay (fade-in), triggerowany \texttt{useInView}
\end{itemize}

\subsection{ToneRadarChart}

Komponent \texttt{ToneRadarChart} (\filepath{src/components/analysis/ToneRadarChart.tsx}) rysuje 6-osiowy radar chart na elemencie \texttt{<canvas>} z~obsÅ‚ugÄ… HiDPI (\texttt{devicePixelRatio}).

\textbf{SzeÅ›Ä‡ osi:} CiepÅ‚y, Å»artobliwy, Analityczny, LÄ™kowy, Romantyczny, Neutralny.

Dane mapowane z~interfejsu \tstype{PersonTone} via \tsfunc{mapToneData()}:
\begin{itemize}
  \item \texttt{warmth} â†’ oÅ› CiepÅ‚y (0--1, normalizacja z~10-pkt skali)
  \item \texttt{humor\_presence} â†’ oÅ› Å»artobliwy
  \item \texttt{formality\_level} (odwrÃ³cony) â†’ oÅ› Analityczny
  \item \texttt{secondary\_tones} (szukanie ,,anxi''/,,lÄ™k'') â†’ oÅ› LÄ™kowy
  \item \texttt{primary\_tone} (szukanie ,,roman'') â†’ oÅ› Romantyczny
  \item Reszta â†’ oÅ› Neutralny (obliczana)
\end{itemize}

Dwie warstwy danych: \personA{Osoba A (niebieski, \#3B82F6)} i~\personB{Osoba B (fioletowy, \#A855F7)}, z~przezroczystym fill i~solid stroke.

\subsection{PersonalityDeepDive}

Komponent \texttt{PersonalityDeepDive} (\filepath{src/components/analysis/PersonalityDeepDive.tsx}) to najbardziej rozbudowany komponent AI. WyÅ›wietla kompletny profil osobowoÅ›ci per uczestnik:

\begin{description}
  \item[Big Five] PiÄ™Ä‡ paskÃ³w postÄ™pu (ScoreBar, max 10.0): Openness, Conscientiousness, Extraversion, Agreeableness, Neuroticism. Kolor: \texttt{bg-accent}.

  \item[MBTI] 4-literowy typ z~procentowym rozkÅ‚adem na kaÅ¼dej osi (np. ,,E72/I28, N65/S35, F80/T20, P55/J45''). Render: 4 mini-gauge'e.

  \item[Styl przywiÄ…zania] Badge z~typem (Secure, Anxious, Avoidant, Disorganized), opis, pewnoÅ›Ä‡ (0--100).

  \item[Inteligencja emocjonalna] Cztery paski: samoÅ›wiadomoÅ›Ä‡, samoregulacja, empatia, umiejÄ™tnoÅ›ci spoÅ‚eczne.

  \item[Obserwacje kliniczne] Lista z~badge'ami severity: \texttt{none} (zielony), \texttt{mild} (Å¼Ã³Å‚ty), \texttt{moderate} (Å¼Ã³Å‚ty), \texttt{significant} (czerwony), \texttt{severe} (czerwony). KaÅ¼da obserwacja ma: typ (anxiety, avoidance, manipulation, codependency), severity, opis, evidence.
\end{description}

\subsection{ViralScoresSection}

Komponent \texttt{ViralScoresSection} (\filepath{src/components/analysis/ViralScoresSection.tsx}) wyÅ›wietla trzy gÅ‚Ã³wne gauge'e:

\begin{description}
  \item[Compatibility Gauge] SVG ring (radius 54, stroke 8), animowany via Framer Motion. Kolorowanie: $\geq$80 zielony (,,Idealne dopasowanie!''), $\geq$60 niebieski (,,Dobra kompatybilnoÅ›Ä‡''), $\geq$40 pomaraÅ„czowy (,,PrzeciÄ™tna kompatybilnoÅ›Ä‡''), $<$40 czerwony (,,Niska kompatybilnoÅ›Ä‡'').

  \item[Interest Score] Per osoba, wizualizacja: dwa paski obok siebie, niebieski i~fioletowy.

  \item[Delusion Score] Per osoba, z~verdict textowym.
\end{description}

Algorytm Compatibility Score oblicza Activity Overlap (Szymkiewicz-Simpson na wektorach aktywnoÅ›ci godzinowej), Response Balance, Engagement Balance i~agreguje z~wagami.

\subsection{GhostForecast}

Komponent \texttt{GhostForecast} (\filepath{src/components/analysis/GhostForecast.tsx}) to unikalna funkcja rozrywkowa. WyÅ›wietla prognozÄ™ ghostingu w~motywach pogodowych per uczestnik:

\begin{table}[H]
\caption{Skala Ghost Forecast}
\label{tab:ghost-forecast}
\centering
\small
\begin{tabularx}{\textwidth}{@{} c c l l X @{}}
\toprule
\textbf{Score} & \textbf{Ikona} & \textbf{Label} & \textbf{Kolor} & \textbf{Interpretacja} \\
\midrule
0--14 & â˜€ï¸ & Bezpiecznie & \score{\#10b981} & Zero ryzyka ghostingu \\
15--29 & ğŸŒ¤ï¸ & Lekkie chmury & \texttt{\#84cc16} & Minimalne sygnaÅ‚y \\
30--44 & â›… & Zachmurzenie & \warn{\#eab308} & Umiarkowane ryzyko \\
45--59 & ğŸŒ§ï¸ & Uwaga & \texttt{\#f97316} & WyraÅºne sygnaÅ‚y ostrzegawcze \\
60--79 & â›ˆï¸ & ZagroÅ¼enie & \danger{\#ef4444} & Wysokie ryzyko \\
80--100 & ğŸŒªï¸ & Ewakuacja! & \texttt{\#dc2626} & Krytyczny poziom --- ghost imminent \\
\bottomrule
\end{tabularx}
\end{table}

KaÅ¼dy uczestnik renderowany jako karta z~ikonÄ… pogodowÄ…, wynikiem, labelem i~opisem czynnikÃ³w ryzyka (malejÄ…cy trend wiadomoÅ›ci, rosnÄ…cy czas odpowiedzi, zmniejszajÄ…ca siÄ™ proporcja inicjacji).

\subsection{FinalReport}

Komponent \texttt{FinalReport} (\filepath{src/components/analysis/FinalReport.tsx}) to kulminacja analizy AI. WyÅ›wietla:
\begin{itemize}
  \item \textbf{Health Score} z~duÅ¼ym SVG ring i~werdyktem
  \item \textbf{Summary} --- 3--5 zdaÅ„ syntezy (AI Pass 4)
  \item \textbf{Zielone flagi} --- lista pozytywnych wzorcÃ³w (np. ,,Wysoka reciprocity'', ,,Zdrowe granice'')
  \item \textbf{Czerwone flagi} --- lista negatywnych wzorcÃ³w (np. ,,Passive-aggressive patterns'', ,,Declining engagement'')
  \item \textbf{Actionable insights} --- konkretne, spersonalizowane sugestie (np. ,,SprÃ³buj inicjowaÄ‡ rozmowy czÄ™Å›ciej --- aktualnie 28\% inicjacji to Twoje'')
\end{itemize}

\subsection{BadgesGrid}

Komponent \texttt{BadgesGrid} (\filepath{src/components/analysis/BadgesGrid.tsx}) wyÅ›wietla 12 odznak w~responsywnej siatce (3$\times$4 desktop, 2$\times$6 mobile). KaÅ¼da odznaka:
\begin{itemize}
  \item DuÅ¼e emoji (32px)
  \item Polska nazwa (bold)
  \item Holder (,,Przyznana: [imiÄ™]'')
  \item Evidence (,,18.3\% wiadomoÅ›ci po 22:00'')
  \item Staggered entrance animation (delay per karta: 50ms)
\end{itemize}

\subsection{NetworkGraph}

Komponent \texttt{NetworkGraph} (\filepath{src/components/analysis/NetworkGraph.tsx}) wyÅ›wietla interaktywny graf sieciowy dla czatÃ³w grupowych ($>$2 uczestnikÃ³w). Implementacja force-directed layout na canvas z:
\begin{itemize}
  \item WÄ™zÅ‚y = uczestnicy (koÅ‚o z~inicjaÅ‚ami, rozmiar proporcjonalny do liczby wiadomoÅ›ci)
  \item KrawÄ™dzie = interakcje (gruboÅ›Ä‡ proporcjonalna do liczby wzajemnych odpowiedzi)
  \item Kolory = automatycznie przypisane z~palety (niebieski, fioletowy, cyan, zielony, pomaraÅ„czowy)
  \item Interakcja = drag-and-drop wÄ™zÅ‚Ã³w, hover z~tooltipem
\end{itemize}

\subsection{ShareCardGallery}

Komponent \texttt{ShareCardGallery} (\filepath{src/components/share-cards/ShareCardGallery.tsx}) renderuje galeriÄ™ 15 typÃ³w Share Cards. UÅ¼ytkownik widzi miniaturki w~siatce. KlikniÄ™cie otwiera full-size podglÄ…d w~modalu z~przyciskami:
\begin{itemize}
  \item \textbf{Pobierz PNG} --- export via \texttt{dom-to-image} / \texttt{html2canvas}
  \item \textbf{Kopiuj do schowka} --- API Clipboard
  \item \textbf{Zamknij} (X) --- AnimatePresence exit animation
\end{itemize}

Karty wymagajÄ…ce analizy AI sÄ… oznaczone i~niedostÄ™pne, gdy analiza AI nie zostaÅ‚a uruchomiona.


% ============================================================
% 8.6 Tryb Story
% ============================================================
\section{Tryb Story}
\label{sec:story-mode}

Tryb Story to immersive, full-screen experience w~stylu Spotify Wrapped. UÅ¼ytkownik przechodzi przez 12 scen, kaÅ¼da prezentujÄ…ca inny aspekt analizy z~animacjami, gradientami i~typografiÄ… ekspresyjnÄ….

\subsection{Architektura}

\begin{itemize}
  \item \textbf{Router:} dedykowana grupa route \filepath{src/app/(story)/} z~wÅ‚asnym layoutem (bez sidebar, bez topbar, full-screen).
  \item \textbf{Nawigacja:} \texttt{StoryNavigation} --- strzaÅ‚ki lewo/prawo, pasek postÄ™pu (12 segmentÃ³w), swipe gestures na mobile.
  \item \textbf{Wrapper:} \texttt{StorySceneWrapper} --- full-viewport container z~gradient background, animacjami wejÅ›cia/wyjÅ›cia (fade + scale).
  \item \textbf{Fonty:} Syne (display, bold) + Space Grotesk (body, geometryczny).
\end{itemize}

\subsection{Sceny}

\begin{table}[H]
\caption{12 scen Story Mode}
\label{tab:story-scenes}
\centering
\small
\begin{tabularx}{\textwidth}{@{} c l X @{}}
\toprule
\textbf{Nr} & \textbf{Komponent} & \textbf{Opis wizualny i~treÅ›Ä‡} \\
\midrule
1 & StoryIntro & TytuÅ‚ rozmowy, uczestnicy, Å‚Ä…czna liczba wiadomoÅ›ci i~dni. Canvas z~particle animation (czÄ…steczki blue/purple). DuÅ¼e liczby z~count-up. \\
\addlinespace
2 & StoryCharacters & Profile uczestnikÃ³w: imiona, awatary, kluczowe statystyki (wiadomoÅ›ci, sÅ‚owa, emoji). Karty z~gradientem. \\
\addlinespace
3 & StoryNumbers & Headline stats: Å‚Ä…czne wiadomoÅ›ci, Å‚Ä…czne sÅ‚owa, Å‚Ä…czne reakcje, najdÅ‚uÅ¼sza wiadomoÅ›Ä‡. DuÅ¼e typographic numbers z~opisami. \\
\addlinespace
4 & StoryVersus & PorÃ³wnanie dwÃ³ch uczestnikÃ³w head-to-head: 6--8 metryk side-by-side z~progress barami i~,,winner'' indicators. \\
\addlinespace
5 & StoryPersonality & Profil Big Five + MBTI per osoba. Kolorowe paski, 4-literowy typ MBTI w~duÅ¼ym foncie. \\
\addlinespace
6 & StoryFlags & Zielone i~czerwone flagi z~ikonami i~opisami. Dramatyczne tÅ‚o (gradient red/green). \\
\addlinespace
7 & StoryTimeline & Uproszczony timeline: najaktywniejsze miesiÄ…ce, punkty zwrotne, trend. Linia czasu z~annotacjami. \\
\addlinespace
8 & StoryVibeCheck & Ton emocjonalny i~styl komunikacji per osoba. Radar chart uproszczony do kolorowych paskÃ³w. \\
\addlinespace
9 & StoryWordCloud & Top sÅ‚owa per osoba w~formacie word cloud (rozmiar proporcjonalny do czÄ™stoÅ›ci). \\
\addlinespace
10 & StoryShareCard & Preview Share Card z~CTA: ,,UdostÄ™pnij na TikToku/Instagramie''. \\
\addlinespace
11 & StoryNavigation & --- (komponent nawigacyjny, nie scena) \\
\addlinespace
12 & StorySceneWrapper & --- (wrapper, nie scena) \\
\bottomrule
\end{tabularx}
\end{table}

\subsection{Animacje scen}

KaÅ¼da scena uÅ¼ywa Framer Motion \texttt{AnimatePresence} z~wariantami:
\begin{itemize}
  \item \textbf{Enter:} \texttt{opacity: 0 â†’ 1}, \texttt{y: 30 â†’ 0}, duration 600ms, ease \texttt{easeOut}
  \item \textbf{Exit:} \texttt{opacity: 1 â†’ 0}, \texttt{y: 0 â†’ -20}, duration 400ms
  \item \textbf{Staggered children:} delay 100--200ms na element, bottom-up
\end{itemize}

\texttt{StoryIntro} dodatkowo zawiera canvas-based particle system z~40 czÄ…steczkami (20 niebieskich, 20 fioletowych) poruszajÄ…cymi siÄ™ chaotycznie i~Å‚Ä…czÄ…cymi siÄ™ liniami w~odlegÅ‚oÅ›ci $<$120px.


% ============================================================
% 8.7 System animacji
% ============================================================
\section{System animacji}
\label{sec:animations}

\podtekst wykorzystuje animacje jako element komunikacji, nie dekoracji. KaÅ¼da animacja ma uzasadnienie UX: albo komunikuje zmianÄ™ stanu, albo kieruje uwagÄ™ uÅ¼ytkownika, albo nadaje poczucie responsywnoÅ›ci interfejsu.

\subsection{Biblioteka i~podejÅ›cie}

GÅ‚Ã³wna biblioteka: \textbf{Framer Motion} (React). UzupeÅ‚niajÄ…co: CSS \texttt{@keyframes} dla lekkich, powtarzalnych animacji (spinner, pulse, drift), oraz canvas API dla particle systems i~radar charts.

\subsection{Katalog animacji}

\begin{table}[H]
\caption{Kompletny katalog animacji}
\label{tab:animations-catalog}
\centering
\small
\begin{tabularx}{\textwidth}{@{} l l l X @{}}
\toprule
\textbf{Animacja} & \textbf{Technologia} & \textbf{Parametry} & \textbf{Kontekst uÅ¼ycia} \\
\midrule
\multicolumn{4}{@{}l}{\textbf{PrzejÅ›cia stron}} \\
Page transition & Framer Motion & fade + slide-up, 300ms & PrzejÅ›cia miÄ™dzy stronami \\
Section reveal & Framer Motion & fade + slide-up, 400ms, stagger & Sekcje wchodzÄ…ce przy scroll \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Karty i~komponenty}} \\
Card entrance & Framer Motion & stagger 50--80ms, fade + y:16 & Karty na stronie analizy \\
Card hover & CSS transition & scale(1.02), 200ms & Interaktywne karty \\
Badge entrance & Framer Motion & stagger 50ms, scale 0â†’1 & Odznaki na BadgesGrid \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Dane i~wykresy}} \\
KPI count-up & rAF + easeOutCubic & $1-(1-t)^3$, 1200ms & KPICards --- animacja liczb \\
Health ring & Framer Motion & strokeDashoffset, 1500ms & AnalysisHeader, Dashboard \\
Sparkline draw & SVG transition & strokeDashoffset, 800ms & Mini-wykresy w~KPI \\
Tone radar & Canvas scale-in & scale 0â†’1, 800ms & ToneRadarChart \\
Heatmap cells & Framer Motion & stagger 5ms, opacity, 200ms & HeatmapChart (168 komÃ³rek) \\
Timeline draw & Recharts animation & 1200ms, easeOut & TimelineChart (area chart) \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Interakcja}} \\
Sidebar collapse & CSS transition & width 240â†’60px, 300ms & Navigation (desktop) \\
Mobile drawer & Framer Motion & translateX: $-$100\%â†’0, 300ms & Navigation (mobile) \\
Modal enter/exit & AnimatePresence & opacity + scale, 200ms & ShareCaptionModal \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Dekoracyjne}} \\
Grain texture & CSS background & static, 3\% opacity & Globalny overlay \\
Particle network & Canvas rAF & 40 czÄ…steczek, $\infty$ & ParticleBackground \\
Fragment drift & CSS @keyframes & 16--24s, ease-in-out, $\infty$ & LandingHero floating data \\
Confetti burst & Canvas rAF & 80 czÄ…steczek, 3s, gravity & Po ukoÅ„czeniu analizy \\
\midrule
\multicolumn{4}{@{}l}{\textbf{Stany Å‚adowania}} \\
Skeleton pulse & CSS animate-pulse & 2s, ease-in-out, $\infty$ & Skeleton screens \\
Spinner & Framer Motion & rotate: 360Â°, 0.8s, linear & ProcessingState \\
Progress bar & CSS transition & width, 300ms & Parsing/analyzing/saving \\
\bottomrule
\end{tabularx}
\end{table}

\subsection{Scroll-triggered reveals}

Wszystkie sekcje strony analizy uÅ¼ywajÄ… wzorca scroll-triggered reveal opartego na hooku \tsfunc{useInView()} z~Framer Motion:

\begin{lstlisting}[style=podcode, caption={Wzorzec scroll-triggered animation}]
const ref = useRef<HTMLDivElement>(null);
const inView = useInView(ref, { once: true, margin: '-50px' });

return (
  <motion.div
    ref={ref}
    initial={{ opacity: 0, y: 16 }}
    animate={inView ? { opacity: 1, y: 0 } : {}}
    transition={{ duration: 0.4 }}
  >
    {/* content */}
  </motion.div>
);
\end{lstlisting}

Parametr \texttt{once: true} gwarantuje, Å¼e animacja uruchamia siÄ™ tylko raz (nie resetuje przy przewijaniu w~gÃ³rÄ™). Parametr \texttt{margin: '-50px'} triggeruje animacjÄ™ 50px przed wejÅ›ciem elementu w~viewport, co daje naturalne wraÅ¼enie ,,ujawniania siÄ™''.

\subsection{KPI Count-Up --- easeOutCubic}

Animacja count-up w~\texttt{KPICards} uÅ¼ywa hooka \tsfunc{useAnimatedCounter()} z~krzywÄ… \texttt{easeOutCubic}:

\begin{equation}
\text{eased}(t) = 1 - (1 - t)^3
\label{eq:ease-out-cubic}
\end{equation}

\noindent gdzie $t \in [0, 1]$ to znormalizowany postÄ™p czasu. Krzywa deceleracyjna --- szybki start, Å‚agodne zakoÅ„czenie --- nadaje poczucie precyzji i~naturalnoÅ›ci. Implementacja opiera siÄ™ na \texttt{requestAnimationFrame} z~pomiarami via \texttt{performance.now()}, co zapewnia pÅ‚ynnoÅ›Ä‡ niezaleÅ¼nie od framerate.

\subsection{Confetti Burst}

Jednorazowa animacja 80 czÄ…steczek uruchamiana po zakoÅ„czeniu analizy AI. Parametry:
\begin{itemize}
  \item 80 czÄ…steczek o~losowym kolorze (niebieski, fioletowy, cyan, zielony, pomaraÅ„czowy)
  \item Losowa pozycja startowa: top-center z~rozrzutem $\pm$30\%
  \item PrÄ™dkoÅ›Ä‡ poczÄ…tkowa: $v_y \in [-12, -6]$, $v_x \in [-4, 4]$
  \item Grawitacja: $g = 0.15$ (per frame)
  \item Rotacja: losowa prÄ™dkoÅ›Ä‡ kÄ…towa
  \item Opacja: fade-out w~ostatnich 40\% czasu Å¼ycia
  \item Czas Å¼ycia: 3 sekundy
  \item Render: canvas \texttt{fillRect} z~transformacjÄ… rotate
\end{itemize}

\subsection{prefers-reduced-motion}

Wszystkie animacje respektujÄ… ustawienie systemowe \texttt{prefers-reduced-motion: reduce}:

\begin{itemize}
  \item Framer Motion: globalny \texttt{MotionConfig} z~\texttt{reducedMotion: "user"}
  \item CSS: media query \texttt{@media (prefers-reduced-motion: reduce)} wyÅ‚Ä…cza \texttt{@keyframes}, ustawia \texttt{transition-duration: 0.01ms}
  \item Canvas: particle systems i~confetti nie uruchamiajÄ… siÄ™
  \item Count-up: wartoÅ›Ä‡ docelowa wyÅ›wietlana natychmiast (bez animacji)
\end{itemize}


% ============================================================
% 8.8 DostÄ™pnoÅ›Ä‡
% ============================================================
\section{DostÄ™pnoÅ›Ä‡}
\label{sec:accessibility}

\podtekst implementuje zestaw najlepszych praktyk dostÄ™pnoÅ›ci (WCAG 2.1 AA) mimo ciemnej, data-dense estetyki.

\subsection{Semantyczny HTML}

\begin{itemize}
  \item \texttt{<main>}, \texttt{<nav>}, \texttt{<header>}, \texttt{<section>}, \texttt{<article>} --- prawidÅ‚owa hierarchia landmarkÃ³w
  \item \texttt{<h1>}--\texttt{<h4>} --- zachowana hierarchia nagÅ‚Ã³wkÃ³w (bez pomijania poziomÃ³w)
  \item \texttt{<button>} --- wszystkie interaktywne elementy to prawdziwe buttony (nie \texttt{<div onClick>})
  \item \texttt{<table>} --- tabele danych z~\texttt{<caption>}, \texttt{<thead>}, \texttt{<th scope>}
\end{itemize}

\subsection{ARIA Labels}

\begin{itemize}
  \item Wykresy canvas: \texttt{role="img"} + \texttt{aria-label} z~opisem tekstowym (np. ,,Radar tonÃ³w: Osoba A --- ciepÅ‚y 0.8, Å¼artobliwy 0.6...'')
  \item Ikony dekoracyjne: \texttt{aria-hidden="true"}
  \item Ikony funkcjonalne: \texttt{aria-label} (np. ,,UsuÅ„ analizÄ™'', ,,Zamknij modal'')
  \item Progress bars: \texttt{role="progressbar"}, \texttt{aria-valuenow}, \texttt{aria-valuemin}, \texttt{aria-valuemax}
  \item Health score ring: \texttt{aria-label="Wynik zdrowia relacji: 72 na 100"}
\end{itemize}

\subsection{Nawigacja klawiaturÄ…}

\begin{itemize}
  \item \texttt{Tab order} --- logiczny, zgodny z~wizualnÄ… hierarchiÄ…
  \item \texttt{Focus states} --- widoczne obramowanie focus (ring, 2px, \texttt{ring-primary}), nigdy ukrywane
  \item \texttt{Escape} --- zamyka modale, dropdown, sidebar mobilny
  \item \texttt{Enter / Space} --- aktywuje buttony, otwiera karty
  \item \texttt{Arrow keys} --- nawigacja w~Story Mode (lewo/prawo = poprzednia/nastÄ™pna scena)
\end{itemize}

\subsection{Skip-to-content}

Link ,,PrzejdÅº do treÅ›ci'' (\texttt{<a href="\#main-content">}) ukryty wizualnie (off-screen), widoczny na focus. Pozwala pominÄ…Ä‡ sidebar i~topbar.

\subsection{Kontrasty}

\begin{table}[H]
\caption{Kontrasty kolorystyczne (WCAG AA)}
\label{tab:contrasts}
\centering
\small
\begin{tabularx}{\textwidth}{@{} l l l c @{}}
\toprule
\textbf{Element} & \textbf{Kolor tekstu} & \textbf{Kolor tÅ‚a} & \textbf{Ratio} \\
\midrule
Tekst gÅ‚Ã³wny & \texttt{\#FAFAFA} & \texttt{\#050505} & 19.5:1 \\
Tekst pomocniczy & \texttt{\#888888} & \texttt{\#050505} & 5.9:1 \\
Tekst wyciszony & \texttt{\#555555} & \texttt{\#111111} & 2.7:1\textsuperscript{*} \\
Accent na card & \texttt{\#3B82F6} & \texttt{\#111111} & 4.6:1 \\
Success na card & \texttt{\#10B981} & \texttt{\#111111} & 5.8:1 \\
Danger na card & \texttt{\#EF4444} & \texttt{\#111111} & 4.5:1 \\
\bottomrule
\end{tabularx}

\vspace{4pt}
\footnotesize\color{PodTextSecondary}
\textsuperscript{*} Tekst wyciszony (\texttt{\#555555}) poniÅ¼ej progu AA (4.5:1) --- stosowany wyÅ‚Ä…cznie dla dekoracyjnych labeli, nie dla treÅ›ci istotnej. Alternatywa: \texttt{\#666666} (3.5:1) lub zwiÄ™kszenie jasnoÅ›ci tÅ‚a.
\end{table}

\subsection{ResponsywnoÅ›Ä‡ i~dotyk}

\begin{itemize}
  \item \textbf{Touch targets:} minimum 44$\times$44px dla wszystkich interaktywnych elementÃ³w na mobile
  \item \textbf{Swipe gestures:} obsÅ‚uga w~Story Mode (lewo/prawo = nawigacja scen)
  \item \textbf{Pinch-to-zoom:} nie blokowany (brak \texttt{user-scalable=no})
  \item \textbf{Landscape:} obsÅ‚ugiwany --- layout automatycznie adaptuje siÄ™ via CSS grid/flexbox
\end{itemize}

\begin{infobox}[title=Ciemny motyw i~dostÄ™pnoÅ›Ä‡]
Ciemny motyw jest domyÅ›lny i~jedyny --- co w~kontekÅ›cie dostÄ™pnoÅ›ci jest celowÄ… decyzjÄ…. Badania wskazujÄ…, Å¼e ciemne motywy zmniejszajÄ… zmÄ™czenie oczu przy dÅ‚ugim uÅ¼ytkowaniu i~sÄ… preferowane przez wiÄ™kszoÅ›Ä‡ uÅ¼ytkownikÃ³w aplikacji analitycznych. JednakÅ¼e dla uÅ¼ytkownikÃ³w wymagajÄ…cych wysokiego kontrastu, \podtekst zapewnia \texttt{@media (forced-colors: active)} z~fallbackiem na kolory systemowe.
\end{infobox}

\section{Nowe komponenty: Translator PodtekstÃ³w}
\label{sec:subtext-decoder-ui}

Translator PodtekstÃ³w to moduÅ‚ analizy AI dekodujÄ…cy ukryte znaczenia wiadomoÅ›ci. SkÅ‚ada siÄ™ z~dwÃ³ch komponentÃ³w: interaktywnego dekodera (\texttt{SubtextDecoder}) osadzonego w~stronie analizy oraz karty udostÄ™pniania (\texttt{SubtextCard}) w~galerii Share Cards.

\subsection{SubtextDecoder.tsx}
\label{subsec:subtext-decoder}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/SubtextDecoder.tsx} (339~LOC)
  \item[Typ propsÃ³w] \tstype{SubtextDecoderProps}:
\end{description}

\begin{lstlisting}[style=podcode]
interface SubtextDecoderProps {
  subtextResult?: SubtextResult;
  onRunSubtext: () => Promise<void>;
  isLoading: boolean;
  progress: number;
  canRun: boolean;
  error?: string | null;
}
\end{lstlisting}

Komponent dziaÅ‚a w~trzech stanach: \textbf{(1)}~przycisk uruchomienia (gdy analiza nie zostaÅ‚a jeszcze wykonana), \textbf{(2)}~pasek postÄ™pu z~animacjÄ… gradientowÄ… \texttt{purple-600}$\to$\texttt{pink-500}, \textbf{(3)}~peÅ‚ne wyniki z~listÄ… zdekodowanych wiadomoÅ›ci.

\subsubsection{Sub-komponenty}

\begin{description}
  \item[\tsfunc{CategoryBadge()}] Kolorowa piguÅ‚ka (\textit{pill}) z~emoji i~polskÄ… etykietÄ… kategorii. Kolory tÅ‚a i~obramowania generowane dynamicznie z~palety \tstype{CATEGORY\_META} --- 12~kategorii: \textit{deflection}, \textit{hidden\_anger}, \textit{seeking\_validation}, \textit{power\_move}, \textit{genuine}, \textit{testing}, \textit{guilt\_trip}, \textit{passive\_aggressive}, \textit{love\_signal}, \textit{insecurity}, \textit{distancing}, \textit{humor\_shield}.

  \item[\tsfunc{SubtextItemCard()}] Rozwijalna karta prezentujÄ…ca parÄ™: oryginalna wiadomoÅ›Ä‡ $\to$ zdekodowany podtekst. NagÅ‚Ã³wek zawiera nadawcÄ™, timestamp, badge kategorii oraz opcjonalny marker \texttt{WOW} (dla \tskey{isHighlight = true}). Sekcja kontekstu jest skÅ‚adana --- klikniÄ™cie rozwija listÄ™ okolicznych wiadomoÅ›ci (\tskey{surroundingMessages}). Animacja wejÅ›cia: \texttt{framer-motion} z~opÃ³Åºnieniem \tskey{delay = min(index * 0.05, 1s)} --- efekt kaskadowego pojawiania siÄ™ kart.

  \item[\tsfunc{SummaryStrip()}] Pasek podsumowania nad listÄ… wynikÃ³w. Zawiera:
    \begin{itemize}
      \item \textbf{Deception score} per osoba --- animowany pasek postÄ™pu z~kolorami: \score{$\leq$40\%}, \warn{40--60\%}, \danger{$>$60\%}.
      \item \textbf{Top 5 kategorii} --- lista badges z~liczbÄ… wystÄ…pieÅ„.
      \item \textbf{Biggest Reveal} --- wyrÃ³Å¼niona karta z~obramowaniem \tskey{amber-500/30} prezentujÄ…ca najbardziej zaskakujÄ…ce odkrycie.
    \end{itemize}
\end{description}

DomyÅ›lnie wyÅ›wietlanych jest 10~elementÃ³w; przycisk ,,PokaÅ¼ wszystkie'' rozwija peÅ‚nÄ… listÄ™. Pod wynikami wyÅ›wietlany jest \tskey{disclaimer} z~informacjÄ… o~rozrywkowym charakterze analizy.

\subsection{SubtextCard.tsx}
\label{subsec:subtext-card}

\begin{description}
  \item[Plik] \filepath{src/components/share-cards/SubtextCard.tsx} (177~LOC)
  \item[Typ propsÃ³w] \tstype{SubtextCardProps}: \tskey{subtextResult: SubtextResult}, \tskey{participants: string[]}
\end{description}

Karta udostÄ™pniania osadzona w~\tsfunc{ShareCardShell()} z~gradientem:

\begin{lstlisting}[style=podcode]
gradient="linear-gradient(160deg, #0a0a1a 0%,
  #1a0528 30%, #0d0b2e 60%, #080818 100%)"
\end{lstlisting}

\noindent Struktura wizualna:

\begin{enumerate}
  \item \textbf{TytuÅ‚} --- ,,Translator PodtekstÃ³w'' z~gradientem tekstowym \tskey{purple $\to$ pink} (font Syne, 800 weight).
  \item \textbf{Top 4 elementy} --- wybierane priorytetowo: najpierw \tskey{isHighlight}, potem najwyÅ¼szy \tskey{confidence}. KaÅ¼dy element to zaokrÄ…glona karta z~obramowaniem w~kolorze kategorii, zawierajÄ…ca: nadawcÄ™, badge kategorii, oryginalnÄ… wiadomoÅ›Ä‡ (max 2~linie, \tskey{-webkit-line-clamp}), strzaÅ‚kÄ™~$\blacktriangledown$ oraz zdekodowany podtekst (pogrubiony, 0.9~opacity).
  \item \textbf{Stopka} --- \tskey{deceptionScore} per uczestnik: wartoÅ›Ä‡ procentowa w~kolorze \score{zielonym}/\warn{pomaraÅ„czowym}/\danger{czerwonym} z~podpisem ,,ukrytych emocji''.
\end{enumerate}

Przycisk ,,Pobierz PNG'' pod kartÄ… korzysta z~hooka \tsfunc{useCardDownload()} z~argumentem \tskey{'podtekst-translator'}.


\subsection{Nowe komponenty: Szczery Profil Randkowy}
\label{sec:dating-profile-ui}

Szczery Profil Randkowy to moduÅ‚ rozrywkowy generujÄ…cy brutalne, ale humorystyczne profile randkowe na podstawie rzeczywistych wzorcÃ³w komunikacji. SkÅ‚ada siÄ™ z~trzech komponentÃ³w: przycisku wyzwalajÄ…cego (\texttt{DatingProfileButton}), widoku wynikÃ³w (\texttt{DatingProfileResult}) oraz karty udostÄ™pniania (\texttt{DatingProfileCard}).

\subsubsection{DatingProfileButton.tsx}
\label{subsubsec:dating-profile-button}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/DatingProfileButton.tsx}
  \item[Typ propsÃ³w] \tstype{StoredAnalysis}, callback \tsfunc{onComplete()}
\end{description}

Przycisk wyzwalajÄ…cy generowanie profili randkowych. DziaÅ‚a w~trzech stanach:

\begin{description}
  \item[Stan idle] Przycisk z~ikonÄ… i~etykietÄ…, gotowy do klikniÄ™cia. Uruchomienie inicjuje pipeline SSE.

  \item[Stan loading] Animowany pasek postÄ™pu z~wizualizacjÄ… kolejnych etapÃ³w przetwarzania. Komponent pobiera prÃ³bki wiadomoÅ›ci via \tsfunc{sampleMessages()}, buduje kontekst iloÅ›ciowy via \tsfunc{buildQuantitativeContext()} i~przekazuje istniejÄ…cÄ… analizÄ™ jakoÅ›ciowÄ… (\texttt{pass1}, \texttt{pass3}) jeÅ›li jest dostÄ™pna --- co pozwala AI na gÅ‚Ä™bsze profilowanie oparte o~wczeÅ›niej zidentyfikowane cechy osobowoÅ›ci.

  \item[Stan error] Komunikat bÅ‚Ä™du z~moÅ¼liwoÅ›ciÄ… ponownej prÃ³by.
\end{description}

\subsubsection{DatingProfileResult.tsx}
\label{subsubsec:dating-profile-result}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/DatingProfileResult.tsx}
  \item[Typ propsÃ³w] Renderuje \tstype{PersonDatingProfile} dla kaÅ¼dego uczestnika rozmowy.
\end{description}

WyÅ›wietlanie wynikÃ³w w~stylu karty Tinder/Hinge. Dla kaÅ¼dego uczestnika generowana jest osobna karta profilowa o~nastÄ™pujÄ…cej strukturze:

\begin{enumerate}
  \item \textbf{Bio} --- krÃ³tki, prowokacyjny opis wygenerowany przez AI na podstawie wzorcÃ³w komunikacji.

  \item \textbf{Siatka statystyk} --- grid z~elementami w~formacie: emoji + label + wartoÅ›Ä‡. Obejmuje metryki takie jak Å›redni czas odpowiedzi, stosunek inicjacji, najczÄ™stsze godziny aktywnoÅ›ci.

  \item \textbf{3 prompty Hinge} --- trzy odpowiedzi na pytania w~stylu aplikacji Hinge (np. ,,Moja ulubiona strategia unikania odpowiedzi to...''), wygenerowane przez AI z~odniesieniem do rzeczywistych zachowaÅ„.

  \item \textbf{Red/green flags z~ikonami} --- lista pozytywnych i~negatywnych cech komunikacyjnych, kaÅ¼da z~dedykowanÄ… ikonÄ… i~krÃ³tkim opisem.

  \item \textbf{Match prediction} --- przewidywanie AI dotyczÄ…ce kompatybilnoÅ›ci z~potencjalnymi partnerami.

  \item \textbf{Dealbreaker} --- cecha komunikacyjna zidentyfikowana jako potencjalna przeszkoda w~relacji.

  \item \textbf{Overall rating ze gwiazdkami} --- ocena ogÃ³lna profilu w~skali gwiazdkowej, renderowana jako wypeÅ‚nione/puste ikony gwiazdek.
\end{enumerate}

UkÅ‚ad responsywny: na desktop karty profilowe wyÅ›wietlane sÄ… obok siebie (side-by-side), na mobile --- jedna pod drugÄ… w~ukÅ‚adzie pionowym.

\subsubsection{DatingProfileCard.tsx}
\label{subsubsec:dating-profile-card}

\begin{description}
  \item[Plik] \filepath{src/components/share-cards/DatingProfileCard.tsx}
  \item[Typ] Karta udostÄ™pniania (Share Card) do mediÃ³w spoÅ‚ecznoÅ›ciowych.
\end{description}

Karta osadzona w~\tsfunc{ShareCardShell()} z~gradientem tÅ‚a. Zawiera skrÃ³conÄ… wersjÄ™ profilu randkowego: bio, 3~statystyki oraz \texttt{overall\_rating}. Zaprojektowana jako atrakcyjny wizualnie obrazek do pobrania i~udostÄ™pnienia na Instagramie, TikToku lub Stories.


\subsection{Nowe komponenty: Stawiam ZakÅ‚ad}
\label{sec:delusion-quiz-ui}

Stawiam ZakÅ‚ad (Delusion Quiz) to interaktywny quiz samoÅ›wiadomoÅ›ci, w~ktÃ³rym uÅ¼ytkownik odpowiada na pytania dotyczÄ…ce rozmowy, a~nastÄ™pnie porÃ³wnuje swoje odpowiedzi z~rzeczywistymi danymi. SkÅ‚ada siÄ™ z~dwÃ³ch komponentÃ³w: interaktywnego quizu (\texttt{DelusionQuiz}) oraz karty udostÄ™pniania (\texttt{DelusionCard}).

\subsubsection{DelusionQuiz.tsx}
\label{subsubsec:delusion-quiz}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/DelusionQuiz.tsx}
  \item[Typ propsÃ³w] \tstype{QuantitativeAnalysis}, \tstype{ParsedConversation}, callback \tsfunc{onComplete()}
\end{description}

Interaktywny quiz dziaÅ‚ajÄ…cy w~trzech fazach:

\begin{description}
  \item[Faza 1 --- IntroScreen] Animowane intro z~opisem mechaniki quizu i~przyciskiem ,,Start''. WyjaÅ›nia koncepcjÄ™: uÅ¼ytkownik zgaduje wartoÅ›ci metryk, a~nastÄ™pnie konfrontuje je z~rzeczywistoÅ›ciÄ….

  \item[Faza 2 --- Pytania] Karty pytaÅ„ z~animacjÄ… przejÅ›Ä‡ (framer-motion: slide + fade). KaÅ¼de pytanie zawiera:
    \begin{itemize}
      \item Pasek postÄ™pu (progress bar) pokazujÄ…cy postÄ™p w~quizie.
      \item TreÅ›Ä‡ pytania dotyczÄ…cego konkretnej metryki rozmowy.
      \item Przyciski z~opcjami odpowiedzi --- po wybraniu nastÄ™puje reveal z~poprawnÄ… odpowiedziÄ… i~tekstem wyjaÅ›niajÄ…cym (\tskey{revealText}), kolorowanym semantycznie (zielony = trafienie, czerwony = pudÅ‚o).
    \end{itemize}

  \item[Faza 3 --- ResultScreen] Ekran wynikÃ³w zawierajÄ…cy:
    \begin{itemize}
      \item \textbf{Delusion Index} --- duÅ¼a liczba (0--100) z~animacjÄ… count-up, reprezentujÄ…ca odchylenie odpowiedzi od rzeczywistoÅ›ci.
      \item \textbf{Etykieta} --- tekstowa klasyfikacja wyniku: BAZOWANY, REALISTA, OPTYMISTA, MARZY\-CIEL lub DELULU, przypisywana na podstawie progÃ³w Delusion Index.
      \item \textbf{Podsumowanie} --- liczba poprawnych vs bÅ‚Ä™dnych odpowiedzi.
      \item \textbf{Lista pytaÅ„} --- przeglÄ…d wszystkich pytaÅ„ z~odpowiedziami uÅ¼ytkownika i~poprawnymi wartoÅ›ciami.
    \end{itemize}
\end{description}

\textbf{Kluczowa cecha architekturalna:} quiz nie wymaga wywoÅ‚aÅ„ API --- caÅ‚a logika opiera siÄ™ na funkcjach \tsfunc{buildQuestions()} (generowanie pytaÅ„ z~danych iloÅ›ciowych) oraz \tsfunc{computeDelusionResult()} (obliczanie Delusion Index). Dane nigdy nie opuszczajÄ… przeglÄ…darki.

\subsubsection{DelusionCard.tsx}
\label{subsubsec:delusion-card}

\begin{description}
  \item[Plik] \filepath{src/components/share-cards/DelusionCard.tsx}
  \item[Typ] Karta udostÄ™pniania (Share Card) z~wynikiem Delusion Index.
\end{description}

Karta prezentujÄ…ca Delusion Index score wraz z~etykietÄ… klasyfikacji. Zaprojektowana w~kolorystyce quizu --- gradient tÅ‚a nawiÄ…zujÄ…cy do poziomu ,,delusionality''.


\subsection{Nowe komponenty: Symulator Odpowiedzi}
\label{sec:reply-simulator-ui}

Symulator Odpowiedzi to interaktywny moduÅ‚ AI symulujÄ…cy odpowiedzi wybranego uczestnika rozmowy na podstawie jego wzorcÃ³w komunikacyjnych. SkÅ‚ada siÄ™ z~dwÃ³ch komponentÃ³w: peÅ‚nego interfejsu czatu (\texttt{ReplySimulator}) oraz karty udostÄ™pniania (\texttt{SimulatorCard}).

\subsubsection{ReplySimulator.tsx}
\label{subsubsec:reply-simulator}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/ReplySimulator.tsx}
  \item[Typ propsÃ³w] \tstype{ParsedConversation}, \tstype{QuantitativeAnalysis}, \tstype{QualitativeAnalysis?}, \tskey{participants: string[]}
\end{description}

PeÅ‚en interfejs czatu dziaÅ‚ajÄ…cy w~trzech fazach:

\begin{description}
  \item[Faza \texttt{select}] WybÃ³r osoby do symulacji. KaÅ¼dy uczestnik rozmowy prezentowany jest jako klikalna karta z~imieniem i~krÃ³tkim opisem stylu komunikacji. Po wybraniu osoby interfejs przechodzi do fazy czatu.

  \item[Faza \texttt{chat}] Interaktywny messenger z~nastÄ™pujÄ…cymi elementami:
    \begin{itemize}
      \item \textbf{WiadomoÅ›ci uÅ¼ytkownika} --- wyrÃ³wnane do prawej strony, tÅ‚o niebieskie (\texttt{\#3B82F6}), dymki w~stylu iMessage.
      \item \textbf{WiadomoÅ›ci symulowane} --- wyrÃ³wnane do lewej strony, tÅ‚o fioletowe (\texttt{\#A855F7}), opatrzone wskaÅºnikiem confidence score (pewnoÅ›ci AI co do trafnoÅ›ci odpowiedzi).
      \item \textbf{TypingIndicator} --- trzy animowane kropki (framer-motion), symulujÄ…ce ,,pisanie'' przez drugÄ… osobÄ™. WyÅ›wietlany podczas oczekiwania na odpowiedÅº z~API.
      \item \textbf{Pole tekstowe} --- input z~limitem \tskey{MAX\_MESSAGE\_LENGTH = 200} znakÃ³w i~przyciskiem wysyÅ‚ania.
      \item \textbf{Limity} --- maksymalnie \tskey{MAX\_EXCHANGES = 5} wymian wiadomoÅ›ci na sesjÄ™. Wymagane minimum \tskey{MIN\_MESSAGES\_REQUIRED = 500} wiadomoÅ›ci w~oryginalnej rozmowie, aby AI miaÅ‚a wystarczajÄ…cy materiaÅ‚ do nauki wzorcÃ³w.
    \end{itemize}

  \item[Faza \texttt{summary}] Podsumowanie sesji symulacji z~przeglÄ…dem wymienionych wiadomoÅ›ci i~przyciskiem udostÄ™pniania (Share Card).
\end{description}

\subsubsection{SimulatorCard.tsx}
\label{subsubsec:simulator-card}

\begin{description}
  \item[Plik] \filepath{src/components/share-cards/SimulatorCard.tsx}
  \item[Typ] Karta udostÄ™pniania (Share Card) z~podglÄ…dem wymiany wiadomoÅ›ci.
\end{description}

Karta prezentujÄ…ca fragment symulowanej konwersacji --- kilka par wiadomoÅ›ci (uÅ¼ytkownik â†’ symulacja) w~ukÅ‚adzie dymek-czat. Zaprojektowana jako atrakcyjny wizualnie podglÄ…d zachÄ™cajÄ…cy do wyprÃ³bowania symulatora.

% ============================================================
\section{Nowe komponenty analizy g\l{}\k{e}bokiej (Faza~24--28)}
\label{sec:deep-analytics-components}
% ============================================================

W~Fazach~24--28 dodano \textbf{16~nowych komponent\'{o}w} rozszerzaj\k{a}cych panel analizy o~zaawansowane wizualizacje psychologiczne i~statystyczne.

% --- Faza 24 ---
\subsection{Komponenty Fazy~24: Deep Analytics}
\label{subsec:faza24-components}

\subsubsection{ResponseTimeHistogram.tsx}
\label{subsubsec:response-time-histogram}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/ResponseTimeHistogram.tsx}
  \item[Typ] Wizualizacja --- pogrupowany wykres s\l{}upkowy (Recharts)
  \item[Dane] \tstype{ResponseTimeDistribution} z~\tstype{QuantitativeAnalysis}
  \item[Animacje] framer-motion entrance
\end{description}

Histogram 6~bucket\'{o}w czasu odpowiedzi per osoba: B\l{}yskawiczna ($<$1~min), Szybka (1--5~min), Normalna (5--30~min), Wolna (30~min--2~h), Bardzo wolna (2--8~h), Ghosting ($>$8~h). Ka\.{z}da osoba ma w\l{}asny kolor s\l{}upk\'{o}w.

\subsubsection{HourlyActivityChart.tsx}
\label{subsubsec:hourly-activity}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/HourlyActivityChart.tsx}
  \item[Typ] Wykres stacked bar 24-godzinny (Recharts)
  \item[Dane] \tstype{heatmap} z~\tstype{QuantitativeAnalysis}
\end{description}

24-godzinny skumulowany wykres s\l{}upkowy aktywno\'{s}ci obu rozm\'{o}wc\'{o}w. Pozwala na~wizualne zidentyfikowanie chronotyp\'{o}w bez oblicze\'{n} modu\l{}u Chronotype.

\subsubsection{YearMilestones.tsx}
\label{subsubsec:year-milestones}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/YearMilestones.tsx}
  \item[Typ] Karta tekstowo-graficzna z~podsumowaniem rocznym
  \item[Dane] \tstype{yearMilestones} z~\tstype{QuantitativeAnalysis}
\end{description}

Wy\'{s}wietla najlepszy miesi\k{a}c rozmowy (najwy\.{z}sze zaanga\.{z}owanie), najgorszy miesi\k{a}c oraz trend YoY (Year-over-Year) dla ca\l{}ej historii konwersacji.

\subsubsection{ThreatMeters.tsx}
\label{subsubsec:threat-meters}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/ThreatMeters.tsx}
  \item[Typ] Zestaw wskaznik\'{o}w gauge (SVG circular progress)
  \item[Dane] \tstype{DamageReportResult}, \tstype{QuantitativeAnalysis}
  \item[PsychDisclaimer] Tak (z~cytatami akademickimi)
\end{description}

Cztery wskaÅºniki dynamiki relacji (przemianowane z~,,WskaÅºniki ZagroÅ¼eÅ„'' w~Fazie~26):

\begin{itemize}
  \item \textbf{Ghost Risk} --- ryzyko wycofania / ghostingu
  \item \textbf{Intensywno\'{s}\'{c} PrzywiÄ…zania} (poprz.\ Codependency) --- intensywno\'{s}\'{c} emocjonalna z\k{a}le\.{z}no\'{s}ci
  \item \textbf{Nier\'{o}wnowaga Wp\l{}ywu} (poprz.\ Manipulacja) --- asymetria kontroli w~rozmowie
  \item \textbf{Trust Index} --- zaufanie (wagi: reciprocity~0,40, responseConsistency~0,40, ghostRisk~0,20)
\end{itemize}

\subsubsection{DamageReport.tsx}
\label{subsubsec:damage-report}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/DamageReport.tsx}
  \item[Typ] Karta z~czterema wska\'{z}nikami jako progress bars
  \item[PsychDisclaimer] Tak
\end{description}

Cztery metryki zdrowia komunikacyjnego:

\begin{itemize}
  \item \textbf{Emotional Damage\%} --- poziom toksyczno\'{s}ci emocjonalnej
  \item \textbf{Communication Grade} --- ocena stanu komunikacji (A--F)
  \item \textbf{Repair Potential} --- potencja\l{} naprawy relacji
  \item \textbf{Korzy\'{s}\'{c} z~konsultacji} --- skala: \texttt{WYSOKA} / \texttt{UMIARKOWANA} / \texttt{NISKA} (zmienione z~binarnego TAK/NIE w~Fazie~26)
\end{itemize}

\subsubsection{CognitiveFunctionsClash.tsx}
\label{subsubsec:cognitive-clash}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/CognitiveFunctionsClash.tsx}
  \item[Typ] Karta por\'{o}wnawcza funkcji kognitywnych MBTI
  \item[PsychDisclaimer] Tak
\end{description}

Wizualizuje 8~funkcji kognitywnych (Ni, Ne, Si, Se, Ti, Te, Fi, Fe) dla obu uczestnik\'{o}w na~podstawie typ\'{o}w MBTI z~Pass~3. Pokazuje punkty konfliktu i~komplementarno\'{s}ci.

\subsubsection{PursuitWithdrawalCard.tsx}
\label{subsubsec:pursuit-withdrawal-card}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/PursuitWithdrawalCard.tsx}
  \item[Typ] Karta z~list\k{a} wykrytych cykl\'{o}w
  \item[PsychDisclaimer] Tak (cytat: Christensen \& Heavey 1990)
\end{description}

Wizualizuje wykryte cykle po\'{s}cigu i~wycofania: dominant pursuer, severity, timeline cykl\'{o}w.

\subsubsection{RankingBadges.tsx}
\label{subsubsec:ranking-badges}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/RankingBadges.tsx}
  \item[Typ] Siatka badge\'{o}w z~percentylami
  \item[PsychDisclaimer] Tak (heurystyczne --- nie kliniczne)
\end{description}

Heurystyczne percentyle TOP~X\% dla kluczowych metryk: aktywno\'{s}\'{c}, szybko\'{s}\'{c} odpowiedzi, d\l{}ugo\'{s}\'{c} wiadomo\'{s}ci i~inne. Ikony badge\'{o}w w~\filepath{public/icons/badges/} i~\filepath{public/icons/ranking/}.

\subsubsection{AIPredictions.tsx}
\label{subsubsec:ai-predictions}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/AIPredictions.tsx}
  \item[Typ] Lista predykcji z~confidence\%
  \item[PsychDisclaimer] Tak
\end{description}

Wy\'{s}wietla tablice predykcji z~Pass~4 (pole \texttt{predictions[]}). Ka\.{z}da predykcja zawiera tre\'{s}\'{c} i~wsp\'{o}\l{}czynnik pewno\'{s}ci (0--100\%). Zielony/\.{z}\'{o}\l{}ty/czerwony kolor confidence bar.

\subsubsection{GottmanHorsemen.tsx}
\label{subsubsec:gottman-horsemen}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/GottmanHorsemen.tsx}
  \item[Typ] Karta z~czterema wska\'{z}nikami Czterech Je\'{z}d\'{z}c\'{o}w Gottmana
  \item[PsychDisclaimer] Tak (cytat: Gottman 1994)
\end{description}

Wizualizuje nasilenie czterech wzorca\'{o}w destruktywnej komunikacji: Krytyka, Pogarda, Defensywno\'{s}\'{c}, Zamkni\k{e}cie si\k{e}. Dane pochodzi z~\filepath{src/lib/analysis/gottman-horsemen.ts}.

% --- Faza 26 ---
\subsection{Komponenty Fazy~26: Psychological Hardening}
\label{subsec:faza26-components}

\subsubsection{PsychDisclaimer.tsx}
\label{subsubsec:psych-disclaimer}

\begin{description}
  \item[Plik] \filepath{src/components/shared/PsychDisclaimer.tsx}
  \item[Typ] ReuÅ¼ywalny komponent disclaimer
  \item[Stosowany w] ThreatMeters, DamageReport, PursuitWithdrawalCard, DelusionQuiz, CognitiveFunctionsClash, RankingBadges, GottmanHorsemen, AIPredictions, ViralScoresSection, PersonalityDeepDive
\end{description}

Sp\'{o}jny disclaimer psychologiczny z~opcjonalnymi cytatami akademickimi (z~\filepath{src/lib/analysis/citations.ts}) i~generyczn\k{a} stop\k{a} informuj\k{a}c\k{a}, \\.{z}e wyniki s\k{a} interpretacyjne, nie diagnostyczne. Props: \texttt{citations?: Citation[]}, \texttt{compact?: boolean}.

% --- Faza 27 ---
\subsection{Komponenty Fazy~27: Deep Psychological Validation}
\label{subsec:faza27-components}

\subsubsection{LSMCard.tsx}
\label{subsubsec:lsm-card}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/LSMCard.tsx}
  \item[Typ] Karta z~wykresem radarowym 9~kategorii + metryki tekstowe
  \item[Dane] \tstype{LSMResult} z~\tstype{QuantitativeAnalysis}
\end{description}

Wy\'{s}wietla og\'{o}lny wynik LSM (0--1), asymetri\k{e} adaptacji (kt\'{o}ra osoba bardziej dostosowuje si\k{e} do~stylu partnera) oraz rozk\l{}ad per kategori\k{e} (9~s\l{}upk\'{o}w lub wykres radarowy). Interpretacja s\l{}owna wed\l{}ug progu 0,70/0,80/0,90. \'{Z}r\'{o}d\l{}o: Ireland \& Pennebaker (2010).

\subsubsection{PronounCard.tsx}
\label{subsubsec:pronoun-card}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/PronounCard.tsx}
  \item[Typ] Karta por\'{o}wnawcza zaimk\'{o}w per osoba
  \item[Dane] \tstype{PronounAnalysisResult} z~\tstype{QuantitativeAnalysis}
\end{description}

Trzy s\l{}upkowe mini-wykresy (I-rate / We-rate / You-rate) dla ka\.{z}dej osoby plus etykieta orientacji (\texttt{self-focused} / \texttt{other-focused} / \texttt{collective} / \texttt{balanced}). \'{Z}r\'{o}d\l{}o: Pennebaker (2011).

% --- Faza 28 ---
\subsection{Komponenty Fazy~28: Nowe modu\l{}y psychologiczne}
\label{subsec:faza28-components}

\subsubsection{ChronotypePair.tsx}
\label{subsubsec:chronotype-pair}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/ChronotypePair.tsx}
  \item[Typ] Karta z~circular progress bar + karty per osoba
  \item[Dane] \tstype{ChronotypeCompatibility} z~\tstype{QuantitativeAnalysis}
\end{description}

Centralny okr\k{e}g\l{}y wska\'{z}nik zgodno\'{s}ci chronotyp\'{o}w (matchScore\%) flankowany dwoma kartami per osoba zawieraj\k{a}cymi: emoji chronotypu (\texttt{early\_bird} = ğŸŒ…, \texttt{night\_owl} = ğŸ¦‰), godzin\k{e} szczytow\k{a} i~mini-histogram godzinowy.

\subsubsection{ConversationalNarcissismCard.tsx}
\label{subsubsec:cni-card}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/ConversationalNarcissismCard.tsx}
  \item[Typ] Karta z~gauge CNI per osoba
  \item[Dane] \tstype{ShiftSupportResult} z~\tstype{QuantitativeAnalysis}
  \item[PsychDisclaimer] Tak (cytat: Derber 1979)
\end{description}

Gauge wska\'{z}nik CNI per osoba z~kolorem: czerwony ($\geq 70\%$), amber ($\geq 45\%$), zielony ($< 45\%$). Poni\.{z}ej gauge: liczniki shift-response i~support-response z~przyk\l{}adowymi wiadomo\'{s}ciami.

\subsubsection{EmotionalGranularityCard.tsx}
\label{subsubsec:eg-card}

\begin{description}
  \item[Plik] \filepath{src/components/analysis/EmotionalGranularityCard.tsx}
  \item[Typ] Karta z~gauge score + breakdown kategorii emocjonalnych
  \item[Dane] \tstype{EmotionalGranularityResult} z~\tstype{QuantitativeAnalysis}
  \item[PsychDisclaimer] Tak (cytat: Kashdan et~al.\ 2015)
\end{description}

Gauge granularno\'{s}ci emocjonalnej (0--100) per osoba plus siatka 12~kategorii emocji z~kolorowanymi paskami proporcjonalnymi do~cz\k{e}sto\'{s}ci u\.{z}ycia. Dominuj\k{a}ca emocja wy\'{s}wietlana jako etykieta.

